#! /bin/bash

set -ex

export ONEFLOW_GPT_SEQ_LENGTH=1024
export ONEFLOW_GPT_NUM_LAYERS=12
export ONEFLOW_GPT_HIDDEN_SIZE=768
export ONEFLOW_GPT_NUM_ATTENTION_HEADS=12
export ONEFLOW_GPT_NUM_GPUS_PER_NODE=4
export ONEFLOW_GPT_TENSOR_MODEL_PARALLEL_SIZE=1
export ONEFLOW_GPT_PIPELINE_MODEL_PARALLEL_SIZE=4
export ONEFLOW_GPT_NUM_ACCUMULATION_STEPS=8
export ONEFLOW_GPT_MICRO_BATCH_SIZE=8
export ONEFLOW_GPT_GLOBAL_BATCH_SIZE=64

source `dirname $0`/pretrain_gpt.sh
